import{b as B,d as E,u as P,c,p as M,o as b,a as w,w as l,r as q,n as I,e as d,f as K,g as F,_ as T,h as A,i as y,m as v,j as h,k as O,l as G,q as k,s as H,t as Q,v as t,x as C,y as m,z as W,E as L,A as X,B as Y,C as U,D as N}from"./index-DagrscZg.js";import{E as Z}from"./el-checkbox-B7E6wtHS.js";import{E as ee,a as se}from"./el-form-item-D-WX_tTG.js";import{E as te}from"./el-link-DvYX8WT7.js";import{_ as le,E as ae}from"./_plugin-vue_export-helper-BroaMqBQ.js";import{E as oe}from"./el-input-DOvlmmbw.js";import"./el-message-BHYeCJcb.js";import"./isEqual-Bkaf1oIU.js";const D=Symbol("rowContextKey"),re=["start","center","end","space-around","space-between","space-evenly"],ue=["top","middle","bottom"],ne=B({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:re,default:"start"},align:{type:String,values:ue}}),pe=E({name:"ElRow"}),de=E({...pe,props:ne,setup(x){const o=x,u=P("row"),s=c(()=>o.gutter);M(D,{gutter:s});const f=c(()=>{const a={};return o.gutter&&(a.marginRight=a.marginLeft="-".concat(o.gutter/2,"px")),a}),g=c(()=>[u.b(),u.is("justify-".concat(o.justify),o.justify!=="start"),u.is("align-".concat(o.align),!!o.align)]);return(a,$)=>(b(),w(F(a.tag),{class:I(d(g)),style:K(d(f))},{default:l(()=>[q(a.$slots,"default")]),_:3},8,["class","style"]))}});var ie=T(de,[["__file","row.vue"]]);const fe=A(ie),me=B({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:y([Number,Object]),default:()=>v({})},sm:{type:y([Number,Object]),default:()=>v({})},md:{type:y([Number,Object]),default:()=>v({})},lg:{type:y([Number,Object]),default:()=>v({})},xl:{type:y([Number,Object]),default:()=>v({})}}),ce=E({name:"ElCol"}),ge=E({...ce,props:me,setup(x){const o=x,{gutter:u}=h(D,{gutter:c(()=>0)}),s=P("col"),f=c(()=>{const a={};return u.value&&(a.paddingLeft=a.paddingRight="".concat(u.value/2,"px")),a}),g=c(()=>{const a=[];return["span","offset","pull","push"].forEach(r=>{const e=o[r];O(e)&&(r==="span"?a.push(s.b("".concat(o[r]))):e>0&&a.push(s.b("".concat(r,"-").concat(o[r]))))}),["xs","sm","md","lg","xl"].forEach(r=>{O(o[r])?a.push(s.b("".concat(r,"-").concat(o[r]))):G(o[r])&&Object.entries(o[r]).forEach(([e,i])=>{a.push(e!=="span"?s.b("".concat(r,"-").concat(e,"-").concat(i)):s.b("".concat(r,"-").concat(i)))})}),u.value&&a.push(s.is("guttered")),[s.b(),a]});return(a,$)=>(b(),w(F(a.tag),{class:I(d(g)),style:K(d(f))},{default:l(()=>[q(a.$slots,"default")]),_:3},8,["class","style"]))}});var _e=T(ge,[["__file","col.vue"]]);const ye=A(_e),ve={class:"flex"},be={__name:"LoginPage",setup(x){const o=k(!1),u=k(),s=k({username:"",password:"",repassword:""}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10位 的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(r,e,i)=>{s.value.password!==e?i(new Error("两次输入密码不一致")):i()},trigger:"blur"}]},g=async()=>{await u.value.validate(),await W(s.value),L.success("注册成功"),o.value=!1},a=H(),$=X(),j=async()=>{await u.value.validate();const r=await Y(s.value);a.setToken(r.data.token),L.success("登录成功"),$.push("/")};return Q(o,()=>{o.value&&(s.value={username:"",password:"",repassword:""})}),(r,e)=>{const i=ye,n=ee,_=oe,S=ae,V=te,R=se,z=Z,J=fe;return b(),w(J,{class:"login-page"},{default:l(()=>[t(i,{span:12,class:"bg"}),t(i,{span:6,offset:3,class:"form"},{default:l(()=>[o.value?(b(),w(R,{key:0,model:s.value,rules:f,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:l(()=>[t(n,null,{default:l(()=>e[7]||(e[7]=[C("h1",null,"注册",-1)])),_:1}),t(n,{prop:"username"},{default:l(()=>[t(_,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=p=>s.value.username=p),"prefix-icon":d(U),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(n,{prop:"password"},{default:l(()=>[t(_,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=p=>s.value.password=p),"prefix-icon":d(N),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(n,{prop:"repassword"},{default:l(()=>[t(_,{modelValue:s.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=p=>s.value.repassword=p),"prefix-icon":d(N),type:"password",placeholder:"请再次输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(n,null,{default:l(()=>[t(S,{onClick:g,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[8]||(e[8]=[m(" 注册 ")])),_:1})]),_:1}),t(n,{class:"flex"},{default:l(()=>[t(V,{type:"info",underline:!1,onClick:e[3]||(e[3]=p=>o.value=!1)},{default:l(()=>e[9]||(e[9]=[m(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(b(),w(R,{key:1,model:s.value,rules:f,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:l(()=>[t(n,null,{default:l(()=>e[10]||(e[10]=[C("h1",null,"登录",-1)])),_:1}),t(n,{prop:"username"},{default:l(()=>[t(_,{modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=p=>s.value.username=p),"prefix-icon":d(U),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(n,{prop:"password"},{default:l(()=>[t(_,{modelValue:s.value.password,"onUpdate:modelValue":e[5]||(e[5]=p=>s.value.password=p),name:"password","prefix-icon":d(N),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),t(n,{class:"flex"},{default:l(()=>[C("div",ve,[t(z,null,{default:l(()=>e[11]||(e[11]=[m("记住我")])),_:1}),t(V,{type:"primary",underline:!1},{default:l(()=>e[12]||(e[12]=[m("忘记密码？")])),_:1})])]),_:1}),t(n,null,{default:l(()=>[t(S,{onClick:j,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[13]||(e[13]=[m("登录")])),_:1})]),_:1}),t(n,{class:"flex"},{default:l(()=>[t(V,{type:"info",underline:!1,onClick:e[6]||(e[6]=p=>o.value=!0)},{default:l(()=>e[14]||(e[14]=[m(" 注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},je=le(be,[["__scopeId","data-v-5d556921"]]);export{je as default};
