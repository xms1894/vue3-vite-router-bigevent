import{_ as a}from"./PageContainer-BQOATNCB.js";import{s as e,q as s,a as r,w as l,o as t,v as o,H as u,e as i,x as c,y as n,bO as p,E as d,I as f,aR as _,bP as m}from"./index-C6yrd5mH.js";import{_ as v,E as g}from"./_plugin-vue_export-helper-CVcqmBuK.js";import{E as y}from"./el-progress-DS4LrxGw.js";import"./el-message-DOujGntW.js";import"./isEqual-GfjNzJ0u.js";const j=["src"],k=v({__name:"UserAvatar",setup(v){const k=e(),w=s(k.user.user_pic),b=s(),x=a=>{const e=new FileReader;e.readAsDataURL(a.raw),e.onload=()=>{w.value=e.result}},E=async()=>{await p(w.value),await k.getUser(),d.success("头像更新成功")};return(e,s)=>{const p=f,d=y,v=g,k=a;return t(),r(k,{title:"更换头像"},{default:l((()=>[o(d,{ref_key:"uploadRef",ref:b,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":x},{default:l((()=>[w.value?(t(),u("img",{key:0,src:w.value,class:"avatar"},null,8,j)):(t(),r(p,{key:1,class:"avatar-uploader-icon"},{default:l((()=>[o(i(_))])),_:1}))])),_:1},512),s[3]||(s[3]=c("br",null,null,-1)),o(v,{onClick:s[0]||(s[0]=a=>b.value.$el.querySelector("input").click()),type:"primary",icon:i(_),size:"large"},{default:l((()=>s[1]||(s[1]=[n("选择图片")]))),_:1},8,["icon"]),o(v,{onClick:E,type:"success",icon:i(m),size:"large"},{default:l((()=>s[2]||(s[2]=[n("上传头像")]))),_:1},8,["icon"])])),_:1})}}},[["__scopeId","data-v-ebc7013d"]]);export{k as default};
