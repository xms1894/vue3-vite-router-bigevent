import{q as s,s as v,a as V,w as t,o as k,v as e,y as E,bN as y,E as U}from"./index-DagrscZg.js";import{E as w,a as x}from"./el-form-item-D-WX_tTG.js";import{E as q}from"./_plugin-vue_export-helper-BroaMqBQ.js";import{E as B}from"./el-input-DOvlmmbw.js";import{_ as I}from"./PageContainer-CZse-2GS.js";import"./el-message-BHYeCJcb.js";const j={__name:"UserProfile",setup(N){const n=s(),{user:{email:u,id:i,nickname:d,username:p},getUser:f}=v(),l=s({id:i,username:p,nickname:d,email:u}),_={nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{min:2,max:20,message:"昵称必须在2-20位之间",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}]},c=async()=>{await n.value.validate(),await y(l.value),f(),U.success("修改成功")};return(S,a)=>{const m=B,r=w,g=q,b=x;return k(),V(I,{title:"基本资料"},{default:t(()=>[e(b,{model:l.value,rules:_,ref_key:"formRef",ref:n,"label-width":"120px",style:{width:"50%"}},{default:t(()=>[e(r,{label:"登录名称",prop:"username"},{default:t(()=>[e(m,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>a[3]||(a[3]=[E("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{j as default};
