import{aA as e,c2 as t,b_ as a,b4 as n,c3 as o,b2 as l,aZ as r,b3 as i,c4 as s,c as u,a3 as c,bz as p,by as d,q as f,t as v,U as m,aB as h,Z as g,b,k as x,aD as y,i as w,G as S,m as C,J as k,d as z,c5 as E,N as F,u as I,ai as B,P,S as _,o as A,H as N,a2 as M,a5 as V,n as j,e as R,r as $,x as L,a as O,w as H,g as T,I as K,L as U,v as W,aE as D,a4 as Z,bA as q,aj as G,f as J,l as Y,_ as Q,ax as X,c6 as ee,c7 as te,ah as ae,h as ne}from"./index-C6yrd5mH.js";import{i as oe,k as le,l as re,c as ie,d as se,a as ue,f as ce,e as pe}from"./_plugin-vue_export-helper-CVcqmBuK.js";function de(e){return e}var fe=Date.now;var ve,me,he,ge=t?function(e,a){return t(e,"toString",{configurable:!0,enumerable:!1,value:(n=a,function(){return n}),writable:!0});var n}:de,be=(ve=ge,me=0,he=0,function(){var e=fe(),t=16-(e-he);if(he=e,t>0){if(++me>=800)return arguments[0]}else me=0;return ve.apply(void 0,arguments)}),xe=Math.max;function ye(e,t,a){return t=xe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,l=xe(n.length-t,0),r=Array(l);++o<l;)r[o]=n[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=n[o];return i[t]=a(r),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,i)}}var we=a?a.isConcatSpreadable:void 0;function Se(e){return n(e)||oe(e)||!!(we&&e&&e[we])}function Ce(e,t,a,n,o){var l=-1,r=e.length;for(a||(a=Se),o||(o=[]);++l<r;){var i=e[l];a(i)?le(o,i):o[o.length]=i}return o}function ke(e){return(null==e?0:e.length)?Ce(e):[]}function ze(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}function Ee(e,t){return null!=e&&t in Object(e)}function Fe(e,t){return null!=e&&function(e,t,a){for(var i=-1,s=(t=o(t,e)).length,u=!1;++i<s;){var c=l(t[i]);if(!(u=null!=e&&a(e,c)))break;e=e[c]}return u||++i!=s?u:!!(s=null==e?0:e.length)&&re(s)&&r(c,s)&&(n(e)||oe(e))}(e,t,Ee)}function Ie(e,t){return function(e,t,a){for(var n=-1,l=t.length,r={};++n<l;){var u=t[n],c=i(e,u);a(c,u)&&s(r,o(u,e),c)}return r}(e,t,(function(t,a){return Fe(e,a)}))}var Be=function(e){return be(ye(e,void 0,ke),e+"")}((function(e,t){return null==e?{}:Ie(e,t)}));const Pe="update:modelValue",_e="change",Ae=["class","style"],Ne=/^on[A-Z]/;function Me(e,{beforeFocus:t,afterFocus:a,beforeBlur:n,afterBlur:o}={}){const l=c(),{emit:r}=l,i=d(),s=f(!1),u=e=>{!!h(t)&&t(e)||s.value||(s.value=!0,r("focus",e),null==a||a())},p=e=>{var t;!!h(n)&&n(e)||e.relatedTarget&&(null==(t=i.value)?void 0:t.contains(e.relatedTarget))||(s.value=!1,r("blur",e),null==o||o())};return v(i,(e=>{e&&e.setAttribute("tabindex","-1")})),m(i,"focus",u,!0),m(i,"blur",p,!0),m(i,"click",(()=>{var t,a;(null==(t=i.value)?void 0:t.contains(document.activeElement))&&i.value!==document.activeElement||null==(a=e.value)||a.focus()}),!0),{isFocused:s,wrapperRef:i,handleFocus:u,handleBlur:p}}function Ve({afterComposition:e,emit:t}){const a=f(!1),n=e=>{var n;null==t||t("compositionupdate",e);const o=null==(n=e.target)?void 0:n.value,l=o[o.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},o=n=>{null==t||t("compositionend",n),a.value&&(a.value=!1,g((()=>e(n))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?o(e):n(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:n,handleCompositionEnd:o}}const je=b({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Re=e=>Be(je,e);let $e;const Le="\n  height:0 !important;\n  visibility:hidden !important;\n  ".concat(e&&/firefox/i.test(window.navigator.userAgent)?"":"overflow:hidden !important;","\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n"),Oe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function He(e,t=1,a){var n;$e||($e=document.createElement("textarea"),document.body.appendChild($e));const{paddingSize:o,borderSize:l,boxSizing:r,contextStyle:i}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Oe.map((e=>"".concat(e,":").concat(t.getPropertyValue(e)))).join(";"),paddingSize:n,borderSize:o,boxSizing:a}}(e);$e.setAttribute("style","".concat(i,";").concat(Le)),$e.value=e.value||e.placeholder||"";let s=$e.scrollHeight;const u={};"border-box"===r?s+=l:"content-box"===r&&(s-=o),$e.value="";const c=$e.scrollHeight-o;if(x(t)){let e=c*t;"border-box"===r&&(e=e+o+l),s=Math.max(e,s),u.minHeight="".concat(e,"px")}if(x(a)){let e=c*a;"border-box"===r&&(e=e+o+l),s=Math.min(e,s)}return u.height="".concat(s,"px"),null==(n=$e.parentNode)||n.removeChild($e),$e=void 0,u}const Te=b({id:{type:String,default:void 0},size:y,disabled:Boolean,modelValue:{type:w([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:w([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:S},prefixIcon:{type:S},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:w([Object,Array,String]),default:()=>C({})},autofocus:Boolean,rows:{type:Number,default:2},...Re(["ariaLabel"])}),Ke={[Pe]:e=>k(e),input:e=>k(e),change:e=>k(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Ue=z({name:"ElInput",inheritAttrs:!1});const We=ne(Q(z({...Ue,props:Te,emits:Ke,setup(t,{expose:a,emit:n}){const o=t,l=E(),r=F(),i=u((()=>{const e={};return"combobox"===o.containerRole&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e})),s=u((()=>["textarea"===o.type?k.b():C.b(),C.m(w.value),C.is("disabled",S.value),C.is("exceed",Ie.value),{[C.b("group")]:r.prepend||r.append,[C.m("prefix")]:r.prefix||o.prefixIcon,[C.m("suffix")]:r.suffix||o.suffixIcon||o.clearable||o.showPassword,[C.bm("suffix","password-clear")]:ke.value&&ze.value,[C.b("hidden")]:"hidden"===o.type},l.class])),m=u((()=>[C.e("wrapper"),C.is("focus",ve.value)])),h=((e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,n=u((()=>((null==a?void 0:a.value)||[]).concat(Ae))),o=c();return u(o?()=>{var e;return p(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!(n.value.includes(e)||t&&Ne.test(e)))))}:()=>({}))})({excludeKeys:u((()=>Object.keys(i.value)))}),{form:b,formItem:x}=ie(),{inputId:y}=se(o,{formItemContext:x}),w=ue(),S=ce(),C=I("input"),k=I("textarea"),z=d(),Q=d(),ne=f(!1),oe=f(!1),le=f(),re=d(o.inputStyle),de=u((()=>z.value||Q.value)),{wrapperRef:fe,isFocused:ve,handleFocus:me,handleBlur:he}=Me(de,{beforeFocus:()=>S.value,afterBlur(){var e;o.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"blur").catch((e=>pe())))}}),ge=u((()=>{var e;return null!=(e=null==b?void 0:b.statusIcon)&&e})),be=u((()=>(null==x?void 0:x.validateState)||"")),xe=u((()=>be.value&&X[be.value])),ye=u((()=>oe.value?ee:te)),we=u((()=>[l.style])),Se=u((()=>[o.inputStyle,re.value,{resize:o.resize}])),Ce=u((()=>ae(o.modelValue)?"":String(o.modelValue))),ke=u((()=>o.clearable&&!S.value&&!o.readonly&&!!Ce.value&&(ve.value||ne.value))),ze=u((()=>o.showPassword&&!S.value&&!o.readonly&&!!Ce.value&&(!!Ce.value||ve.value))),Ee=u((()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!S.value&&!o.readonly&&!o.showPassword)),Fe=u((()=>Ce.value.length)),Ie=u((()=>!!Ee.value&&Fe.value>Number(o.maxlength))),Be=u((()=>!!r.suffix||!!o.suffixIcon||ke.value||o.showPassword||Ee.value||!!be.value&&ge.value)),[_e,je]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:n,value:o}=e.value;if(null==a||null==n)return;const l=o.slice(0,Math.max(0,a)),r=o.slice(Math.max(0,n));t={selectionStart:a,selectionEnd:n,value:o,beforeTxt:l,afterTxt:r}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:l}=t;if(null==n||null==o||null==l)return;let r=a.length;if(a.endsWith(o))r=a.length-o.length;else if(a.startsWith(n))r=n.length;else{const e=n[l-1],t=a.indexOf(e,l-1);-1!==t&&(r=t+1)}e.value.setSelectionRange(r,r)}]}(z);B(Q,(e=>{if($e(),!Ee.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;le.value={right:"calc(100% - ".concat(a+15+6,"px)")}}));const Re=()=>{const{type:t,autosize:a}=o;if(e&&"textarea"===t&&Q.value)if(a){const e=Y(a)?a.minRows:void 0,t=Y(a)?a.maxRows:void 0,n=He(Q.value,e,t);re.value={overflowY:"hidden",...n},g((()=>{Q.value.offsetHeight,re.value=n}))}else re.value={minHeight:He(Q.value).minHeight}},$e=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=Q.value)?void 0:a.offsetParent)||(e(),t=!0)}})(Re),Le=()=>{const e=de.value,t=o.formatter?o.formatter(Ce.value):Ce.value;e&&e.value!==t&&(e.value=t)},Oe=async e=>{_e();let{value:t}=e.target;o.formatter&&(t=o.parser?o.parser(t):t),Ke.value||(t!==Ce.value?(n(Pe,t),n("input",t),await g(),Le(),je()):Le())},Te=e=>{n("change",e.target.value)},{isComposing:Ke,handleCompositionStart:Ue,handleCompositionUpdate:We,handleCompositionEnd:De}=Ve({emit:n,afterComposition:Oe}),Ze=()=>{oe.value=!oe.value,qe()},qe=async()=>{var e;await g(),null==(e=de.value)||e.focus()},Ge=e=>{ne.value=!1,n("mouseleave",e)},Je=e=>{ne.value=!0,n("mouseenter",e)},Ye=e=>{n("keydown",e)},Qe=()=>{n(Pe,""),n("change",""),n("clear"),n("input","")};return v((()=>o.modelValue),(()=>{var e;g((()=>Re())),o.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"change").catch((e=>pe())))})),v(Ce,(()=>Le())),v((()=>o.type),(async()=>{await g(),Le(),Re()})),P((()=>{!o.formatter&&o.parser,Le(),g(Re)})),a({input:z,textarea:Q,ref:de,textareaStyle:Se,autosize:_(o,"autosize"),isComposing:Ke,focus:qe,blur:()=>{var e;return null==(e=de.value)?void 0:e.blur()},select:()=>{var e;null==(e=de.value)||e.select()},clear:Qe,resizeTextarea:Re}),(e,t)=>(A(),N("div",U(R(i),{class:[R(s),{[R(C).bm("group","append")]:e.$slots.append,[R(C).bm("group","prepend")]:e.$slots.prepend}],style:R(we),role:e.containerRole,onMouseenter:Je,onMouseleave:Ge}),[M(" input "),"textarea"!==e.type?(A(),N(V,{key:0},[M(" prepend slot "),e.$slots.prepend?(A(),N("div",{key:0,class:j(R(C).be("group","prepend"))},[$(e.$slots,"prepend")],2)):M("v-if",!0),L("div",{ref_key:"wrapperRef",ref:fe,class:j(R(m))},[M(" prefix slot "),e.$slots.prefix||e.prefixIcon?(A(),N("span",{key:0,class:j(R(C).e("prefix"))},[L("span",{class:j(R(C).e("prefix-inner"))},[$(e.$slots,"prefix"),e.prefixIcon?(A(),O(R(K),{key:0,class:j(R(C).e("icon"))},{default:H((()=>[(A(),O(T(e.prefixIcon)))])),_:1},8,["class"])):M("v-if",!0)],2)],2)):M("v-if",!0),L("input",U({id:R(y),ref_key:"input",ref:z,class:R(C).e("inner")},R(h),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?oe.value?"text":"password":e.type,disabled:R(S),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:R(Ue),onCompositionupdate:R(We),onCompositionend:R(De),onInput:Oe,onChange:Te,onKeydown:Ye}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),M(" suffix slot "),R(Be)?(A(),N("span",{key:1,class:j(R(C).e("suffix"))},[L("span",{class:j(R(C).e("suffix-inner"))},[R(ke)&&R(ze)&&R(Ee)?M("v-if",!0):(A(),N(V,{key:0},[$(e.$slots,"suffix"),e.suffixIcon?(A(),O(R(K),{key:0,class:j(R(C).e("icon"))},{default:H((()=>[(A(),O(T(e.suffixIcon)))])),_:1},8,["class"])):M("v-if",!0)],64)),R(ke)?(A(),O(R(K),{key:1,class:j([R(C).e("icon"),R(C).e("clear")]),onMousedown:Z(R(q),["prevent"]),onClick:Qe},{default:H((()=>[W(R(D))])),_:1},8,["class","onMousedown"])):M("v-if",!0),R(ze)?(A(),O(R(K),{key:2,class:j([R(C).e("icon"),R(C).e("password")]),onClick:Ze},{default:H((()=>[(A(),O(T(R(ye))))])),_:1},8,["class"])):M("v-if",!0),R(Ee)?(A(),N("span",{key:3,class:j(R(C).e("count"))},[L("span",{class:j(R(C).e("count-inner"))},G(R(Fe))+" / "+G(e.maxlength),3)],2)):M("v-if",!0),R(be)&&R(xe)&&R(ge)?(A(),O(R(K),{key:4,class:j([R(C).e("icon"),R(C).e("validateIcon"),R(C).is("loading","validating"===R(be))])},{default:H((()=>[(A(),O(T(R(xe))))])),_:1},8,["class"])):M("v-if",!0)],2)],2)):M("v-if",!0)],2),M(" append slot "),e.$slots.append?(A(),N("div",{key:1,class:j(R(C).be("group","append"))},[$(e.$slots,"append")],2)):M("v-if",!0)],64)):(A(),N(V,{key:1},[M(" textarea "),L("textarea",U({id:R(y),ref_key:"textarea",ref:Q,class:[R(k).e("inner"),R(C).is("focus",R(ve))]},R(h),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:R(S),readonly:e.readonly,autocomplete:e.autocomplete,style:R(Se),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,onCompositionstart:R(Ue),onCompositionupdate:R(We),onCompositionend:R(De),onInput:Oe,onFocus:R(me),onBlur:R(he),onChange:Te,onKeydown:Ye}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),R(Ee)?(A(),N("span",{key:0,style:J(le.value),class:j(R(C).e("count"))},G(R(Fe))+" / "+G(e.maxlength),7)):M("v-if",!0)],64))],16,["role"]))}}),[["__file","input.vue"]]));export{_e as C,We as E,Pe as U,Me as a,Re as b,ze as c,Ce as d,Fe as h,de as i,ye as o,Be as p,be as s,Ve as u};
