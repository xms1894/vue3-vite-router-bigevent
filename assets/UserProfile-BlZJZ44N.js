import{q as e,s as a,a as l,w as r,o as m,v as s,y as u,bN as i,E as t}from"./index-C6yrd5mH.js";import{E as n,a as o}from"./el-form-item-DqV8URwO.js";import{E as d}from"./_plugin-vue_export-helper-CVcqmBuK.js";import{E as p}from"./el-input-Dd4YCAAp.js";import{_ as f}from"./PageContainer-BQOATNCB.js";import"./el-message-DOujGntW.js";const g={__name:"UserProfile",setup(g){const c=e(),{user:{email:_,id:v,nickname:b,username:V},getUser:k}=a(),j=e({id:v,username:V,nickname:b,email:_}),y={nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{min:2,max:20,message:"昵称必须在2-20位之间",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}]},w=async()=>{await c.value.validate(),await i(j.value),k(),t.success("修改成功")};return(e,a)=>{const i=p,t=n,g=d,_=o;return m(),l(f,{title:"基本资料"},{default:r((()=>[s(_,{model:j.value,rules:y,ref_key:"formRef",ref:c,"label-width":"120px",style:{width:"50%"}},{default:r((()=>[s(t,{label:"登录名称",prop:"username"},{default:r((()=>[s(i,{modelValue:j.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value.username=e),disabled:""},null,8,["modelValue"])])),_:1}),s(t,{label:"用户昵称",prop:"nickname"},{default:r((()=>[s(i,{modelValue:j.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value.nickname=e)},null,8,["modelValue"])])),_:1}),s(t,{label:"用户邮箱",prop:"email"},{default:r((()=>[s(i,{modelValue:j.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value.email=e)},null,8,["modelValue"])])),_:1}),s(t,null,{default:r((()=>[s(g,{type:"primary",onClick:w},{default:r((()=>a[3]||(a[3]=[u("提交修改")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}};export{g as default};
